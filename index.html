<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Schengen Days</title>
  <meta name="theme-color" content="#0A84FF" />
  <link rel="manifest" href="manifest.webmanifest" />
  <style>
    :root{
      color-scheme: dark;
      --bg:#070b12;
      --bg2:#0f1727;
      --card:rgba(255,255,255,.08);
      --stroke:rgba(255,255,255,.14);
      --text:rgba(255,255,255,.95);
      --mut:rgba(255,255,255,.64);
      --ok:#30d158;
      --warn:#ff9f0a;
      --bad:#ff453a;
      --r:22px;
      --shadow:0 14px 36px rgba(0,0,0,.28);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font:16px/1.45 -apple-system,BlinkMacSystemFont,"SF Pro Text","Inter","Segoe UI",Roboto,Arial,sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 640px at 10% -20%, rgba(10,132,255,.18), transparent 58%),
        radial-gradient(1000px 620px at 100% 0%, rgba(48,209,88,.08), transparent 58%),
        linear-gradient(180deg, var(--bg2) 0%, var(--bg) 100%);
      -webkit-font-smoothing:antialiased;
      padding:env(safe-area-inset-top) 0 env(safe-area-inset-bottom) 0;
    }
    .wrap{max-width:900px;margin:0 auto;padding:16px 16px calc(18px + env(safe-area-inset-bottom));display:grid;gap:14px}
    .title{margin:0;font-size:24px;font-weight:800;letter-spacing:-.02em}
    .subtitle{margin-top:6px;color:var(--mut);font-size:12px}
    .card{background:linear-gradient(180deg,rgba(255,255,255,.10),rgba(255,255,255,.04));border:1px solid var(--stroke);border-radius:var(--r);padding:16px;box-shadow:var(--shadow);backdrop-filter:blur(16px)}

    .hero{display:grid;gap:6px;justify-items:center;text-align:center;padding:26px 16px;background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(255,255,255,.05));position:relative;overflow:hidden}
    .hero::after{content:"";position:absolute;inset:auto 20% -90px 20%;height:140px;background:radial-gradient(ellipse at center, rgba(10,132,255,.20), transparent 70%);pointer-events:none}
    .heroLabel{font-size:12px;color:var(--mut)}
    .heroPrimary{font-size:64px;line-height:.95;font-weight:900;letter-spacing:-.04em}
    .heroUnit{font-size:18px;font-weight:700;color:rgba(255,255,255,.88)}
    .heroSecondary{font-size:13px;color:var(--mut)}
    .heroNotice{font-size:14px;color:rgba(255,255,255,.86)}
    .hero.safe{border-color:rgba(48,209,88,.34)}
    .hero.warning{border-color:rgba(255,159,10,.34)}
    .hero.danger{border-color:rgba(255,69,58,.38)}
    .hero.critical{border-color:rgba(255,69,58,.52);box-shadow:0 14px 36px rgba(255,69,58,.10)}

    .label{font-size:12px;color:var(--mut);margin-bottom:6px;font-weight:700}
    .grid{display:grid;gap:12px}
    @media(min-width:760px){.grid.cols2{grid-template-columns:1fr 1fr}}

    input{width:100%;background:rgba(255,255,255,.06);border:1px solid var(--stroke);color:var(--text);padding:12px;border-radius:14px;outline:none}
    input:focus{border-color:rgba(10,132,255,.65);box-shadow:0 0 0 3px rgba(10,132,255,.16)}

    .row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .addTripActions{justify-content:center;margin-top:8px}
    .saveBtn{width:min(100%,360px);height:50px;border-radius:16px;font-size:16px}
    button{border:none;border-radius:12px;padding:10px 12px;font-weight:700;cursor:pointer;background:linear-gradient(180deg,#2c9bff,#0A84FF);color:#fff}
    button.secondary{background:rgba(255,255,255,.08);border:1px solid var(--stroke);color:var(--text)}
    button.danger{background:rgba(255,69,58,.18);border:1px solid rgba(255,69,58,.35);color:#fff}
    button:disabled{opacity:.5;cursor:not-allowed}

    .mut{color:var(--mut)}
    .error{font-size:12px;color:#ffd6d3;min-height:18px}

    .tripRow{display:flex;justify-content:space-between;gap:10px;align-items:flex-start;padding:12px;border:1px solid var(--stroke);border-radius:14px;background:rgba(255,255,255,.04);margin-bottom:8px}
    .tripMain{font-weight:700}
    .tripSub{font-size:12px;color:var(--mut);margin-top:4px}
    .iconBtn{display:inline-flex;align-items:center;gap:6px;padding:8px 10px;font-size:12px}
    .icon{width:14px;height:14px;display:block}

    .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:calc(18px + env(safe-area-inset-bottom));z-index:20;background:rgba(255,255,255,.14);border:1px solid var(--stroke);padding:10px 12px;border-radius:12px;display:flex;gap:10px;align-items:center;opacity:0;pointer-events:none;transition:opacity .25s ease,transform .25s ease}
    .toast.show{opacity:1;pointer-events:auto;transform:translateX(-50%) translateY(-3px)}
    .hide{display:none}
  </style>
</head>
<body>
  <main id="appWrap" class="wrap">
    <header>
      <h1 class="title">Schengen Days</h1>
      <div class="subtitle">Track your 90/180 days offline</div>
    </header>

    <section id="hero" class="card hero safe" aria-live="polite">
      <div class="heroLabel">Status</div>
      <div id="heroPrimary" class="heroPrimary">90</div>
      <div id="heroUnit" class="heroUnit">days left</div>
      <div id="heroSecondary" class="heroSecondary">Available under the 90/180 rule</div>
      <div id="heroNotice" class="heroNotice"></div>
    </section>

    <section class="card">
      <h2 style="margin:0 0 10px;font-size:18px">Add a trip</h2>
      <div class="grid cols2">
        <div>
          <div class="label">Entry date</div>
          <input type="date" id="entryDate" />
        </div>
        <div>
          <div class="label">Exit date</div>
          <input type="date" id="exitDate" />
        </div>
      </div>

      <div class="row" style="margin-top:10px">
        <button class="secondary" type="button" data-quick="1">+1</button>
        <button class="secondary" type="button" data-quick="7">+7</button>
        <button class="secondary" type="button" data-quick="14">+14</button>
        <button class="secondary" type="button" data-quick="30">+30</button>
      </div>

      <div class="row" style="justify-content:space-between;margin-top:8px">
        <div class="mut">Trip length: <strong id="tripLength">—</strong></div>
        <button id="swapDatesBtn" type="button" class="secondary hide">Swap dates</button>
      </div>
      <div class="row addTripActions">
        <button id="cancelEditBtn" type="button" class="secondary hide">Cancel</button>
        <button id="saveTripBtn" type="button" class="saveBtn">Save trip</button>
      </div>
      <div id="tripError" class="error"></div>
    </section>

    <section class="card">
      <h2 style="margin:0 0 10px;font-size:18px">Your trips</h2>
      <div id="tripsEmpty" class="mut">You haven’t added any trips yet.</div>
      <div id="tripsList"></div>
    </section>

    <div class="subtitle">Estimates only. Always verify official Schengen rules.</div>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite">
    <span id="toastText"></span>
    <button id="undoBtn" class="secondary hide" type="button">Undo</button>
  </div>

  <script src="app.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./sw.js').catch(() => {});
    }
  </script>
</body>
</html>
